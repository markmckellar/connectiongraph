!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.test_mock=t()}}(function(){return function t(e,n,o){function i(s,a){if(!n[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){var n=e[s][1][t];return i(n||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./canvasmouse"),i=t("./mouseeventhandlerworldobject"),r=t("../worlddisplay"),s=function(){function t(t,e){this.canvasName=t,this.isVisable=!0,this.isDrawable=!0,this.canvas=document.getElementById(this.canvasName),this.context=this.canvas.getContext("2d"),this.canvasMouse=new o.CanvasMouse(e,this,new i.MouseEventHandlerWorldObject)}return t.prototype.clearCanvas=function(){this.isVisable&&this.isDrawable&&(this.context.clearRect(0,0,this.getWidth(),this.getHeight()),this.context.fillStyle=r.WorldDisplay.getColorFromString("ffffffff"),this.context.fillRect(0,0,this.getWidth(),this.getHeight()))},t.prototype.getCanvas=function(){return this.canvas},t.prototype.getContext=function(){return this.context},t.prototype.getWidth=function(){return this.canvas.width},t.prototype.getHeight=function(){return this.canvas.height},t.prototype.isCanvasVisable=function(){return this._isVisable},t.prototype.isCanvasDrawable=function(){return this._isDrawable},Object.defineProperty(t.prototype,"canvasName",{get:function(){return this._canvasName},set:function(t){this._canvasName=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvas",{get:function(){return this._canvas},set:function(t){this._canvas=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._context},set:function(t){this._context=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isVisable",{get:function(){return this._isVisable},set:function(t){this._isVisable=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isDrawable",{get:function(){return this._isDrawable},set:function(t){this._isDrawable=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canvasMouse",{get:function(){return this._canvasMouse},set:function(t){this._canvasMouse=t},enumerable:!0,configurable:!0}),t}();n.CanvasHolderHTML=s},{"../worlddisplay":10,"./canvasmouse":2,"./mouseeventhandlerworldobject":3}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../world/worldposition"),i=function(){function t(t,e,n){if(this.canvasholderHTML=e,this.mouseEventHandler=n,e.isCanvasVisable()){this.offset=this.getCanvasOffset();var o=this;this.canvasholderHTML.canvas.addEventListener("pointerdown",function(e){o.pointerDownEvent(t,o,e)},!1),this.canvasholderHTML.canvas.addEventListener("pointermove",function(e){o.pointerMoveEvent(t,o,e)},!1),this.canvasholderHTML.canvas.addEventListener("pointerup",function(e){o.pointerUpEvent(t,o,e)},!1)}}return t.prototype.getCanvasOffset=function(){var t=0,e=0,n=this.canvasholderHTML.canvas;do{isNaN(n.offsetLeft)||(t+=n.offsetLeft),isNaN(n.offsetTop)||(e+=n.offsetTop);var i=n.offsetParent;n=i.hasOwnProperty("offsetParent")?i:null}while(n);return new o.WorldPosition(t,e)},t.prototype.pointerDownEvent=function(t,e,n){this.mouseEventHandler.pointerDownEvent(t,e,n)},t.prototype.pointerMoveEvent=function(t,e,n){this.mouseEventHandler.pointerMoveEvent(t,e,n)},t.prototype.pointerUpEvent=function(t,e,n){this.mouseEventHandler.pointerUpEvent(t,e,n)},Object.defineProperty(t.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mouseEventHandler",{get:function(){return this._mouseEventHandler},set:function(t){this._mouseEventHandler=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"$canvasholderHTML",{get:function(){return this.canvasholderHTML},set:function(t){this.canvasholderHTML=t},enumerable:!0,configurable:!0}),t}();n.CanvasMouse=i},{"../../world/worldposition":23}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./mousestatus"),i=t("../worlddisplay"),r=function(){function t(){this.mouseStatus=new o.MouseStatus,this.currentWorldObject=null,this.lastWorldObject=null}return t.prototype.getMouseStatus=function(){return this.mouseStatus},t.prototype.worldObjectSelected=function(t,e,n){},t.prototype.worldObjectDeselected=function(t,e){},t.prototype.getCurrentWorldObject=function(){return this.currentWorldObject},t.prototype.pointerDownEvent=function(t,e,n){var o=i.WorldDisplay.getWorldPositionFromMouseEvent(t,e,n);console.log("pointerDownEvent:"+JSON.stringify(o)),this.mouseStatus.isDown=!0,this.mouseStatus.startPosition=o,this.mouseStatus.position=o,null!=this.currentWorldObject&&(this.currentWorldObject.setAnimated(!0),this.currentWorldObject.setSelected(!1),this.currentWorldObject=null);var r=t.getWorldObjectContainingPosition(o);null!=r&&r!=this.lastWorldObject&&(console.log("pointerDownEvent:clickWorldObject="+r.getWorldId().id),this.currentWorldObject=r,this.mouseStatus.startPosition=o.clone(),this.currentWorldObject.setSelected(!0),this.mouseStatus.clickOffset=this.currentWorldObject.getWorldPosition().getDelta(o),this.currentWorldObject.setAnimated(!1),this.worldObjectSelected(t,n,this.currentWorldObject),this.currentWorldObject.getWorldObjectEventHandler().pointerDownEvent(t,e,n)),null==r&&this.worldObjectDeselected(t,n),this.lastWorldObject&&(this.worldObjectDeselected(t,n),this.lastWorldObject.setSelected(!1),this.lastWorldObject=null),t.worldEngine.pointerDownEngineEvent(t,e,n,this)},t.prototype.pointerMoveEvent=function(t,e,n){var o=i.WorldDisplay.getWorldPositionFromMouseEvent(t,e,n);this.mouseStatus.position=o,this.mouseStatus.isDown&&(this.worldObjectDeselected(t,n),null!=this.currentWorldObject&&(this.currentWorldObject.setAnimated(!1),this.currentWorldObject.getWorldObjectEventHandler().pointerMoveEvent(t,e,n)),this.mouseStatus.position=this.mouseStatus.position),t.worldEngine.pointerMoveEngineEvent(t,e,n,this)},t.prototype.pointerUpEvent=function(t,e,n){var o=i.WorldDisplay.getWorldPositionFromMouseEvent(t,e,n);this.mouseStatus.position=o,null!=this.currentWorldObject&&(this.currentWorldObject.setAnimated(!0),this.lastWorldObject=this.currentWorldObject,this.currentWorldObject.getWorldObjectEventHandler().pointerUpEvent(t,e,n),this.currentWorldObject=null),this.mouseStatus.isDown=!1,t.worldEngine.pointerUpEngineEvent(t,e,n,this)},Object.defineProperty(t.prototype,"mouseStatus",{get:function(){return this._mouseStatus},set:function(t){this._mouseStatus=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWorldObject",{get:function(){return this._currentWorldObject},set:function(t){this._currentWorldObject=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastWorldObject",{get:function(){return this._lastWorldObject},set:function(t){this._lastWorldObject=t},enumerable:!0,configurable:!0}),t}();n.MouseEventHandlerWorldObject=r},{"../worlddisplay":10,"./mousestatus":4}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../world/worldposition"),i=function(){function t(){this.isDown=!1,this.startPosition=new o.WorldPosition(0,0),this.position=new o.WorldPosition(0,0),this.clickOffset=new o.WorldPosition(0,0)}return Object.defineProperty(t.prototype,"isDown",{get:function(){return this._isDown},set:function(t){this._isDown=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPosition",{get:function(){return this._startPosition},set:function(t){this._startPosition=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"clickOffset",{get:function(){return this._clickOffset},set:function(t){this._clickOffset=t},enumerable:!0,configurable:!0}),t}();n.MouseStatus=i},{"../../world/worldposition":23}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../worlddisplay"),i=function(){function t(){this.circleEngineShape=null}return t.prototype.init=function(t,e){this.circleEngineShape=t},Object.defineProperty(t.prototype,"circleEngineShape",{get:function(){return this._circleEngineShape},set:function(t){this._circleEngineShape=t},enumerable:!0,configurable:!0}),t.prototype.draw=function(t){if(!this.circleEngineShape)throw Error("CircleDisplayShape:CircleEngineShape is not set, was init called?");t.fillStyle=o.WorldDisplay.getColorFromString("ff0000ff"),t.strokeStyle=o.WorldDisplay.getColorFromString("0000ffff");var e=this.circleEngineShape.getWorldPosition();t.beginPath(),t.arc(e.x,e.y,this.circleEngineShape.getRadius(),0,2*Math.PI,!1),t.closePath(),t.fill(),t.lineWidth=2,t.stroke()},t}();n.CircleDisplayShape=i},{"../worlddisplay":10}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../worlddisplay"),i=t("../../engine/shapes/engineconnectordef"),r=function(){function t(){this.engineConnector=null,console.log("LineConnectoDisplayShape.constructor")}return t.prototype.init=function(t,e){this.engineConnector=t,console.log("LineConnectoDisplayShape.init")},Object.defineProperty(t.prototype,"engineConnector",{get:function(){return this._engineConnector},set:function(t){this._engineConnector=t},enumerable:!0,configurable:!0}),t.prototype.draw=function(t){if(!this.engineConnector)throw Error("EngineConnector:engineConnector is not set, was init called?");t.fillStyle=o.WorldDisplay.getColorFromString("ff0000ff"),t.strokeStyle=o.WorldDisplay.getColorFromString("0000ffff"),t.lineWidth=2,this.engineConnector.setWorldPosition(o.WorldDisplay.getAveragePostionFromPositionList(i.EngineConnectorDef.getWorldPositionArrayFromEngineDefs(this.engineConnector.getEngineConnectorDefArray()))),o.WorldDisplay.drawOutlinedShape(t,this.engineConnector.getShapePoints()),o.WorldDisplay.drawConnectedLine(t,i.EngineConnectorDef.getWorldPositionArrayFromEngineDefs(this.engineConnector.getEngineConnectorDefArray()))},t}();n.LineConnectoDisplayShape=r},{"../../engine/shapes/engineconnectordef":17,"../worlddisplay":10}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../worlddisplay"),i=function(){function t(){this.polygonEngineShape=null}return t.prototype.init=function(t,e){this.polygonEngineShape=t},Object.defineProperty(t.prototype,"polygonEngineShape",{get:function(){return this._polygonEngineShape},set:function(t){this._polygonEngineShape=t},enumerable:!0,configurable:!0}),t.prototype.draw=function(t){if(!this.polygonEngineShape)throw Error("PolygonDisplayShape:PolygonEngineShape is not set, was init called?");t.fillStyle=o.WorldDisplay.getColorFromString("ff0000ff"),t.strokeStyle=o.WorldDisplay.getColorFromString("0000ffff"),t.lineWidth=2,o.WorldDisplay.drawOutlinedShape(t,this.polygonEngineShape.getPolygonPoints())},t}();n.PolygonDisplayShape=i},{"../worlddisplay":10}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../worlddisplay"),i=function(){function t(){this.rectangleEngineShape=null}return t.prototype.init=function(t,e){this.rectangleEngineShape=t},Object.defineProperty(t.prototype,"rectangleEngineShape",{get:function(){return this._rectangleEngineShape},set:function(t){this._rectangleEngineShape=t},enumerable:!0,configurable:!0}),t.prototype.draw=function(t){if(!this.rectangleEngineShape)throw Error("RectangleDisplayShape:rectangleEngineShape is not set, was init called?");t.fillStyle=o.WorldDisplay.getColorFromString("ff0000ff"),t.strokeStyle=o.WorldDisplay.getColorFromString("0000ffff"),t.lineWidth=2,o.WorldDisplay.drawOutlinedShape(t,this.rectangleEngineShape.getShapePoints())},t}();n.RectangleDisplayShape=i},{"../worlddisplay":10}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../worlddisplay"),i=function(){function t(t,e){this.rectangleEngineShape=null,this.rectangleDisplayShape=t,this.displayText=e,this.textImageData=null}return t.prototype.getText=function(){return this.displayText},t.prototype.setText=function(t){this.textImageData=null,this.displayText=t},t.prototype.init=function(t,e){this.rectangleEngineShape=t,this.rectangleDisplayShape.init(this.rectangleEngineShape,e);var n={pointerDownEvent:function(t,e,n){console.log("LOOOOOLZZZZZ! HEY FELLA XXXXXXX"),console.log("setSize:"+JSON.stringify({width:this.width,height:this.height}))},pointerMoveEvent:function(t,e,n){},pointerUpEvent:function(t,e,n){}};this.rectangleEngineShape.setWorldObjectEventHandler(n)},Object.defineProperty(t.prototype,"textImageData",{get:function(){return this._textImageData},set:function(t){this._textImageData=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rectangleEngineShape",{get:function(){return this._rectangleEngineShape},set:function(t){this._rectangleEngineShape=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rectangleDisplayShape",{get:function(){return this._rectangleDisplayShape},set:function(t){this._rectangleDisplayShape=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){return this._displayText},set:function(t){this._displayText=t},enumerable:!0,configurable:!0}),t.prototype.draw=function(t){if(!this.rectangleEngineShape)throw Error("RectangleDisplayShape:rectangleEngineShape is not set, was init called?");var e=this.rectangleEngineShape.getWorldPosition().x,n=this.rectangleEngineShape.getWorldPosition().y,i=!1;if(null==this.textImageData&&(i=!0),i){this.setContextFont(t,"bold","Arial",15,"000000ff");var r=o.WorldDisplay.metricsTextMutipleLines(t,this.displayText,15,"\n");new o.Size(r.width+10,r.height+10);this.rectangleEngineShape.setSize(r.width+10,r.height+10),this.rectangleDisplayShape.draw(t),this.setContextFont(t,"bold","Arial",15,"000000ff"),o.WorldDisplay.drawTextMutipleLines(t,this.displayText,e,n-r.height/2+15,15,"\n"),this.textImageData=t.getImageData(e-r.width/2,n-r.height/2,r.width,r.height)}this.rectangleDisplayShape.draw(t),t.putImageData(this.textImageData,e-this.textImageData.width/2,n-this.textImageData.height/2),this.rectangleEngineShape.stopRotation()},t.prototype.setContextFont=function(t,e,n,i,r){t.font=e+" "+i+"px "+n,t.textAlign="center",t.fillStyle=o.WorldDisplay.getColorFromString(r)},t}();n.TextDisplayShape=i},{"../worlddisplay":10}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../world/worldposition"),i=function(){function t(t,e){this.width=t,this.height=e}return Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),t}();n.Size=i;var r=function(){function t(){}return t.getWorldPositionArrayFromObjects=function(t){for(var e=new Array,n=0;n<t.length;n++)e.push(t[n].getWorldPosition());return e},t.drawTextMutipleLines=function(t,e,n,o,i,r){for(var s=e.split(r),a=0;a<s.length;a++)t.fillText(s[a],n,o),o+=i},t.metricsTextMutipleLines=function(t,e,n,o){for(var r=e.split(o),s=0,a=n/2,l=0;l<r.length;l++){var c=t.measureText(r[l]);c.width>s&&(s=c.width),a+=n}return new i(s+1,a)},t.getColorFromString=function(t){return 6==t.length&&(t+="ff"),"rgba("+parseInt(t.substring(0,2),16)+","+parseInt(t.substring(2,4),16)+","+parseInt(t.substring(4,6),16)+","+parseInt(t.substring(6,8),16)/255+")"},t.getWorldPositionFromMouseEvent=function(t,e,n){return new o.WorldPosition(n.pageX-e.offset.x,n.pageY-e.offset.y)},t.getPolygonPoints=function(t,e,n,i){for(var r=Array(),s=0,a=2*Math.PI/e,l=0;l<e;l++)r.push(new o.WorldPosition(i.x+n*Math.cos(s),i.y+n*Math.sin(s))),s+=a;return r},t.drawConnectedLine=function(t,e){t.beginPath();for(var n=0;n<e.length;n++){var o=e[n];0==n?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y)}t.stroke()},t.drawOutlinedShape=function(t,e){t.beginPath();for(var n=0;n<e.length;n++){var o=e[n];0==n?t.moveTo(o.x,o.y):t.lineTo(o.x,o.y)}t.closePath(),t.fill(),t.stroke()},t.getAveragePostionFromPositionList=function(t){for(var e=0,n=0,i=0;i<t.length;i++){var r=t[i];e+=r.x,n+=r.y}return e/=t.length,n/=t.length,new o.WorldPosition(e,n)},t.getCirclePositionList=function(t,e){for(var n=new Array,i=360/e,r=0;r<=360;r+=i){var s=r*(Math.PI/180);n.push(new o.WorldPosition(t*Math.cos(s),t*Math.sin(s)))}return n},t.getTrianglePositionList=function(t,e){var n=new Array;return n.push(new o.WorldPosition(0,-e/2)),n.push(new o.WorldPosition(t/2,e/2)),n.push(new o.WorldPosition(-t/2,e/2)),n.push(new o.WorldPosition(0,-e/2)),n},t.getRectanglePositionList=function(t,e){var n=new Array;return n.push(new o.WorldPosition(-t/2,-e/2)),n.push(new o.WorldPosition(t/2,-e/2)),n.push(new o.WorldPosition(t/2,e/2)),n.push(new o.WorldPosition(-t/2,e/2)),n.push(new o.WorldPosition(-t/2,-e/2)),n},t.getArcPositionList=function(t,e,n,i){var r=new Array,s=Math.abs(t-e),a=s/i;r.push(new o.WorldPosition(0,0));for(var l=e;l<=t&&a>0;l+=a){l+a>t&&l!=t&&(l=t);var c=l*(Math.PI/180);r.push(new o.WorldPosition(n*Math.cos(c),n*Math.sin(c)))}return r.push(new o.WorldPosition(0,0)),r},t.fillTextMutipleLines=function(t,e,n,o,i,r){for(var s=e.split(r),a=0;a<s.length;a++)t.fillText(s[a],n,o),o+=i;t.fillText("",n,o)},t.roundedRect=function(t,e,n,o,i,r,s,a,l){o<2*r&&(r=o/2),i<2*r&&(r=i/2),t.beginPath(),t.moveTo(e+r,n),t.arcTo(e+o,n,e+o,n+i,r),t.arcTo(e+o,n+i,e,n+i,r),t.arcTo(e,n+i,e,n,r),t.arcTo(e,n,e+o,n,r),t.closePath(),t.lineWidth=s,t.fillStyle=l,t.strokeStyle=a,t.stroke(),t.fill()},t}();n.WorldDisplay=r},{"../world/worldposition":23}],11:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../world/worldid"),i=t("../../world/worldposition"),r=t("./shapes/mockcircle"),s=t("./shapes/mockrectangle"),a=t("./shapes/mockpolygon"),l=t("../../display/drawableshapes/circledisplayshape"),c=t("./shapes/mockrectangletext"),u=function(){function t(){this.mouseAnchor=new r.MockCircle(new o.WorldId("mouseAnchor"),new l.CircleDisplayShape,5,8,new i.WorldPosition(-10,-10),{restitution:.9,isSensor:!0},this)}return t.prototype.getMouseAnchor=function(){return this.mouseAnchor},t.prototype.createBounds=function(t,e,n){},t.prototype.startEngine=function(){},t.prototype.createCircle=function(t,e,n,o,i,s){return new r.MockCircle(t,e,n,o,i,s,this)},t.prototype.createConnector=function(t,e,n,o,i,r){return null},t.prototype.createRectangle=function(t,e,n,o,i,r){return new s.MockRectangle(t,e,n,o,i,r,this)},t.prototype.createTextBox=function(t,e,n,o,i,r){return new c.MockRectangleText(t,e,n,o,i,r,this)},t.prototype.createPolygon=function(t,e,n,o,i,r){return new a.MockPolygon(t,e,n,o,i,r,this)},t.prototype.pointerDownEngineEvent=function(t,e,n,o){},t.prototype.pointerMoveEngineEvent=function(t,e,n,o){var r=new i.WorldPosition(n.x-e.offset.x,n.y-e.offset.y);if(this.mouseAnchor.translate(r),null!=o.getCurrentWorldObject()){var s=o.getMouseStatus().startPosition.getDelta(o.getMouseStatus().position),a=o.getMouseStatus().startPosition.x-s.x+o.getMouseStatus().clickOffset.x,l=o.getMouseStatus().startPosition.y-s.y+o.getMouseStatus().clickOffset.y;o.getCurrentWorldObject().setWorldPosition(new i.WorldPosition(a,l))}},t.prototype.pointerUpEngineEvent=function(t,e,n,o){},Object.defineProperty(t.prototype,"mouseAnchor",{get:function(){return this._mouseAnchor},set:function(t){this._mouseAnchor=t},enumerable:!0,configurable:!0}),t}();n.MockEngine=u},{"../../display/drawableshapes/circledisplayshape":5,"../../world/worldid":21,"../../world/worldposition":23,"./shapes/mockcircle":12,"./shapes/mockpolygon":13,"./shapes/mockrectangle":14,"./shapes/mockrectangletext":15}],12:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./mockshape"),r=function(t){function e(e,n,o,i,r,s,a){var l=t.call(this,e,n,r,s)||this;return l.radius=o,l.curvePoints=i,n.init(l,s),l}return o(e,t),e.prototype.containsWorldPosition=function(t){return this.getWorldPosition().getDistance(t)<=this.radius},e.prototype.getRadius=function(){return this.radius},e.prototype.getShapePoints=function(){return null},Object.defineProperty(e.prototype,"curvePoints",{get:function(){return this._curvePoints},set:function(t){this._curvePoints=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t},enumerable:!0,configurable:!0}),e}(i.MockShape);n.MockCircle=r},{"./mockshape":16}],13:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./mockshape"),r=t("../../../display/worlddisplay"),s=function(t){function e(e,n,o,i,s,a,l){var c=t.call(this,e,n,s,a)||this;return c.radius=i,c.numberOfSides=o,c.polygonPointArray=r.WorldDisplay.getPolygonPoints(0,o,i,s),n.init(c,a),c}return o(e,t),e.prototype.containsWorldPosition=function(t){var e=0,n=0,o=!1;for(e=0,n=this.polygonPointArray.length-1;e<this.polygonPointArray.length;n=e++){var i=this.polygonPointArray[e],r=this.polygonPointArray[n];i.y>t.y!=r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o},e.prototype.getRadius=function(){return this.radius},e.prototype.getNumberOfSides=function(){return this.numberOfSides},e.prototype.getShapePoints=function(){return this.polygonPointArray},e.prototype.getPointList=function(){return this.polygonPointArray},e.prototype.translate=function(e){t.prototype.translate.call(this,e);for(var n=0;n<this.polygonPointArray.length;n++)this.polygonPointArray[n].translate(this.getWorldPosition())},e.prototype.setWorldPosition=function(e){t.prototype.setWorldPosition.call(this,e),this.polygonPointArray=r.WorldDisplay.getPolygonPoints(0,this.numberOfSides,this.radius,this.getWorldPosition())},e.prototype.getPolygonPoints=function(){return this.polygonPointArray},Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"polygonPointArray",{get:function(){return this._polygonPointArray},set:function(t){this._polygonPointArray=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numberOfSides",{get:function(){return this._numberOfSides},set:function(t){this._numberOfSides=t},enumerable:!0,configurable:!0}),e}(i.MockShape);n.MockPolygon=s},{"../../../display/worlddisplay":10,"./mockshape":16}],14:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../../../world/worldposition"),r=t("./mockshape"),s=function(t){function e(e,n,o,i,r,s,a){var l=t.call(this,e,n,r,s)||this;return l.width=o,l.height=i,n.init(l,s),l}return o(e,t),e.prototype.setSize=function(t,e){this.width=t,this.height=e},e.prototype.containsWorldPosition=function(t){return this.getWorldPosition().x-this.getWidth()/2<=t.x&&this.getWorldPosition().x+this.getWidth()/2>=t.x&&this.getWorldPosition().y-this.getHeight()/2<=t.y&&this.getWorldPosition().y+this.getHeight()/2>=t.y},e.prototype.getShapePoints=function(){var t=Array();return t.push(new i.WorldPosition(this.getWorldPosition().x+this.getWidth()/2,this.getWorldPosition().y+this.getHeight()/2)),t.push(new i.WorldPosition(this.getWorldPosition().x+this.getWidth()/2,this.getWorldPosition().y-this.getHeight()/2)),t.push(new i.WorldPosition(this.getWorldPosition().x-this.getWidth()/2,this.getWorldPosition().y-this.getHeight()/2)),t.push(new i.WorldPosition(this.getWorldPosition().x-this.getWidth()/2,this.getWorldPosition().y+this.getHeight()/2)),t},e.prototype.getWidth=function(){return this.width},e.prototype.getHeight=function(){return this.height},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),e}(r.MockShape);n.MockRectangle=s},{"../../../world/worldposition":23,"./mockshape":16}],15:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./mockrectangle"),r=function(t){function e(e,n,o,i,r,s,a){var l=t.call(this,e,n,o,i,r,s,a)||this;return l.drawableText=n,l}return o(e,t),e.prototype.setText=function(t){this.drawableText.setText(t)},e.prototype.getText=function(){return this.drawableText.getText()},Object.defineProperty(e.prototype,"drawableText",{get:function(){return this._drawableText},set:function(t){this._drawableText=t},enumerable:!0,configurable:!0}),e}(i.MockRectangle);n.MockRectangleText=r},{"./mockrectangle":14}],16:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n,o){this.worldId=t,this.drawable=e,this.isObjectAnimated=!0,this.isObjectVisable=!0,this.isObjectSelected=!0,this.drawable=e,this.position=n,this.worldObjectEventHandler=this.createMouseEventHandler()}return t.prototype.stopRotation=function(){},t.prototype.createMouseEventHandler=function(){return{pointerDownEvent:function(t,e,n){},pointerMoveEvent:function(t,e,n){},pointerUpEvent:function(t,e,n){}}},t.prototype.getWorldObjectEventHandler=function(){return this.worldObjectEventHandler},t.prototype.setWorldObjectEventHandler=function(t){this.worldObjectEventHandler=t},t.prototype.isAnimated=function(){return this.isObjectAnimated},t.prototype.isSelected=function(){return this.isObjectSelected},t.prototype.isVisable=function(){return this.isObjectVisable},t.prototype.getWorldId=function(){return this.worldId},t.prototype.getOptions=function(){return this.objectOptions},t.prototype.setAnimated=function(t){this.isObjectAnimated=t},t.prototype.setSelected=function(t){this.isObjectSelected=t},t.prototype.setVisable=function(t){this.isObjectVisable=t},t.prototype.scaleShape=function(t,e){console.error("scaleShape NOT IMPLMENTED")},t.prototype.getWorldPosition=function(){return this.position},t.prototype.translate=function(t){this.position.translate(t)},Object.defineProperty(t.prototype,"worldObjectEventHandler",{get:function(){return this._worldObjectEventHandler},set:function(t){this._worldObjectEventHandler=t},enumerable:!0,configurable:!0}),t.prototype.setWorldPosition=function(t){this.position.setWorldPosition(t)},t.prototype.getDrawable=function(){return this.drawable},Object.defineProperty(t.prototype,"drawable",{get:function(){return this._drawable},set:function(t){this._drawable=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(t){this._position=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"worldId",{get:function(){return this._worldId},set:function(t){this._worldId=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isObjectAnimated",{get:function(){return this._isObjectAnimated},set:function(t){this._isObjectAnimated=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isObjectVisable",{get:function(){return this._isObjectVisable},set:function(t){this._isObjectVisable=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isObjectSelected",{get:function(){return this._isObjectSelected},set:function(t){this._isObjectSelected=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"objectOptions",{get:function(){return this._objectOptions},set:function(t){this._objectOptions=t},enumerable:!0,configurable:!0}),t}();n.MockShape=o},{}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n){this.engineShape=t,this.length=e,this.stiffness=n}return t.getWorldPositionArrayFromEngineDefs=function(t){for(var e=new Array,n=0;n<t.length;n++)e.push(t[n].engineShape.getWorldPosition());return e},Object.defineProperty(t.prototype,"engineShape",{get:function(){return this._engineShape},set:function(t){this._engineShape=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},set:function(t){this._length=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stiffness",{get:function(){return this._stiffness},set:function(t){this._stiffness=t},enumerable:!0,configurable:!0}),t}();n.EngineConnectorDef=o},{}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./display/canvas/canvasholderhtml"),i=t("./engine/mockengine/mockengine"),r=t("./world/worldofworldobjects"),s=t("./test1");n.mockEngine=new i.MockEngine,n.world=new r.WorldOfWorldObjects(n.mockEngine),n.canvasHolder=new o.CanvasHolderHTML("worldCanvas",n.world),n.test1=new s.Test1(n.mockEngine,n.world,n.canvasHolder)},{"./display/canvas/canvasholderhtml":1,"./engine/mockengine/mockengine":11,"./test1":19,"./world/worldofworldobjects":22}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=t("./display/drawableshapes/circledisplayshape"),i=t("./world/worldposition"),r=t("./world/worldid"),s=t("./display/drawableshapes/rectangledisplayshape"),a=t("./display/drawableshapes/textdisplayshape"),l=t("./display/drawableshapes/polygondisplayshape"),c=t("./engine/shapes/engineconnectordef"),u=t("./display/drawableshapes/lineconnectordisplayshape"),p=function(){function t(t,e,n){function p(){e.drawWorld(n)}var d=e.worldEngine.createCircle(new r.WorldId("circle1"),new o.CircleDisplayShape,30,8,new i.WorldPosition(400,400),{restitution:.9}),h=e.worldEngine.createCircle(new r.WorldId("circle2"),new o.CircleDisplayShape,40,8,new i.WorldPosition(300,300),{restitution:.9
}),f=e.worldEngine.createRectangle(new r.WorldId("rectangle1"),new s.RectangleDisplayShape,40,40,new i.WorldPosition(100,100),{}),g=e.worldEngine.createPolygon(new r.WorldId("polygon1"),new l.PolygonDisplayShape,5,40,new i.WorldPosition(400,100),{}),y=e.worldEngine.createTextBox(new r.WorldId("textbox1"),new a.TextDisplayShape(new s.RectangleDisplayShape,"SomeText Mg\nAnd more text Mg"),100,100,new i.WorldPosition(550,550),{}),b=e.worldEngine.createTextBox(new r.WorldId("textbox2"),new a.TextDisplayShape(new s.RectangleDisplayShape,"hey there friend Mg"),100,100,new i.WorldPosition(150,550),{}),w=e.worldEngine.createTextBox(new r.WorldId("textbox3"),new a.TextDisplayShape(new s.RectangleDisplayShape,"SomeText Mg\nAnd more text Mg\nSomeText Mg\nAnd more text Mg\nSomeText Mg\nAnd more text Mg\nSomeText Mg\nAnd MOOORE text Mg"),100,100,new i.WorldPosition(550,250),{}),v=new c.EngineConnectorDef(y,100,.1),P=new c.EngineConnectorDef(b,100,.1),O=e.worldEngine.createCircle(new r.WorldId("c1Circle"),new o.CircleDisplayShape,40,8,new i.WorldPosition(300,300),{restitution:.9}),W=e.worldEngine.createConnector(new r.WorldId("connector1"),new u.LineConnectoDisplayShape,O,[v,P],O.getWorldPosition(),{});e.addWorldObject(d),e.addWorldObject(h),e.addWorldObject(f),e.addWorldObject(g),e.addWorldObject(y),e.addWorldObject(b),e.addWorldObject(w),e.addWorldObject(W),e.addWorldObject(e.worldEngine.getMouseAnchor()),t.createBounds(n.getWidth(),n.getHeight(),{restitution:.9});console.log("drawing every : "+1e3/30+"ms"),setInterval(p,1e3/30),t.startEngine()}return t}();n.Test1=p},{"./display/drawableshapes/circledisplayshape":5,"./display/drawableshapes/lineconnectordisplayshape":6,"./display/drawableshapes/polygondisplayshape":7,"./display/drawableshapes/rectangledisplayshape":8,"./display/drawableshapes/textdisplayshape":9,"./engine/shapes/engineconnectordef":17,"./world/worldid":21,"./world/worldposition":23}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){this.worldEngine=t}return Object.defineProperty(t.prototype,"worldEngine",{get:function(){return this._worldEngine},set:function(t){this._worldEngine=t},enumerable:!0,configurable:!0}),t}();n.World=o},{}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t){this.id=t}return t.prototype.matches=function(t){return this.id==t.id},Object.defineProperty(t.prototype,"id",{get:function(){return this._id},set:function(t){this._id=t},enumerable:!0,configurable:!0}),t}();n.WorldId=o},{}],22:[function(t,e,n){"use strict";var o=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function o(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./world"),r=function(t){function e(e){var n=t.call(this,e)||this;return n.worldObjectArray=new Array,n}return o(e,t),e.prototype.drawWorld=function(t){var e=t.getContext();t.clearCanvas();for(var n=0;n<this.worldObjectArray.length;n++){this.worldObjectArray[n].getDrawable().draw(e)}},e.prototype.addWorldObject=function(t){this.worldObjectArray.push(t)},e.prototype.getWorldObjectMatchingWorldId=function(t){for(var e=null,n=0;n<this.worldObjectArray.length;n++){var o=this.worldObjectArray[n];o.getWorldId().matches(t)&&(e=o)}return e},e.prototype.getWorldObjectContainingPosition=function(t){for(var e=null,n=0;n<this.worldObjectArray.length;n++){var o=this.worldObjectArray[n];o.containsWorldPosition(t)&&o!=this.worldEngine.getMouseAnchor()&&(e=o)}return e},Object.defineProperty(e.prototype,"worldObjectArray",{get:function(){return this._worldObjectArray},set:function(t){this._worldObjectArray=t},enumerable:!0,configurable:!0}),e}(i.World);n.WorldOfWorldObjects=r},{"./world":20}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){this.x=t,this.y=e}return Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t},enumerable:!0,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.translate=function(t){this.x=t.x,this.y=t.y},t.prototype.setWorldPosition=function(t){this.x=t.x,this.y=t.y},t.prototype.getDeltaY=function(t){return this.y-t.y},t.prototype.getDeltaX=function(t){return this.x-t.x},t.prototype.getDelta=function(e){return new t(this.getDeltaX(e),this.getDeltaY(e))},t.prototype.equals=function(t){return this.x==t.x&&this.y==t.y},t.prototype.getDistance=function(t){return Math.sqrt(Math.pow(this.getDeltaX(t),2)+Math.pow(this.getDeltaY(t),2))},t.getAveragePostionFromWorldPositionList=function(e){for(var n=0,o=0,i=0;i<e.length;i++){var r=e[i];n+=r.x,o+=r.y}return n/=e.length,o/=e.length,new t(n,o)},t.getAveragePostionFromWorldObjectList=function(e){for(var n=0,o=0,i=0;i<e.length;i++){var r=e[i].getWorldPosition();n+=r.x,o+=r.y}return n/=e.length,o/=e.length,new t(n,o)},t.getPostionListFromNodeList=function(t){for(var e=new Array,n=0;n<t.length;n++)e.push(t[n].getWorldPosition());return e},t}();n.WorldPosition=o},{}]},{},[18])(18)});
//# sourceMappingURL=test_mock.min.js.map
